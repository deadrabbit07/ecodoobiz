# PostgreSQL ë° pgAdmin ì´ˆë³´ì ì„¤ì • ê°€ì´ë“œ (ë„ì„œ ê´€ë¦¬ ì‹œìŠ¤í…œ í”„ë¡œì íŠ¸)

ì´ ë¬¸ì„œëŠ” PostgreSQLê³¼ pgAdminì´ ì„¤ì¹˜ë˜ì–´ ìˆìŒì„ ì „ì œë¡œ í•˜ë©°,  
í”„ë¡œì íŠ¸ í™˜ê²½ ì„¤ì •ë¶€í„° ê¸°ë³¸ì ì¸ SQL ì¿¼ë¦¬ ì‹¤ìŠµê¹Œì§€ì˜ ê³¼ì •ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

---

## 1. PostgreSQL ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë° ì‚¬ìš©ì/ê¶Œí•œ í™•ì¸ (Mac ê¸°ì¤€)

pgAdmin ì ‘ì† ì˜¤ë¥˜ í•´ê²° ë° ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ì„ ìœ„í•´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì(Role)ë¥¼ í™•ì¸í•˜ê³  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤.

### 1.1. í˜„ì¬ ì ‘ì† ì‚¬ìš©ì í™•ì¸

í„°ë¯¸ë„ì—ì„œ `psql`ì„ í†µí•´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ì ì‚¬ìš©ì ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤.

í„°ë¯¸ë„ì„ ì—´ê³  ê¸°ë³¸ DBì— ì ‘ì†í•©ë‹ˆë‹¤.

```bash
psql postgres
```

(ì„±ê³µ ì‹œ `postgres=#` í”„ë¡¬í”„íŠ¸ê°€ ëœ¹ë‹ˆë‹¤.)

í˜„ì¬ ì ‘ì†ëœ ì‹¤ì œ ì‚¬ìš©ì(Role) ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤.

```sql
SELECT current_user;
```

(ì¶œë ¥ëœ ì´ë¦„ì„ ê¸°ì–µí•˜ì„¸ìš”. ì˜ˆ: `user`)

---

### 1.2. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë° ì ìš©

í™•ì¸ëœ ì‚¬ìš©ì ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.  
(ì˜ˆì‹œ: ì‚¬ìš©ì ì´ë¦„ì€ `user`, ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” `339911`ë¡œ ì„¤ì •)

```sql
ALTER USER "user" WITH PASSWORD '339911';
```

(ì„±ê³µ ì‹œ `ALTER ROLE` ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.)

`psql`ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.

```sql
\q
```

---

## 2. ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ìƒì„± ë° ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± (í„°ë¯¸ë„)

ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ ë³„ë„ì˜ ì‚¬ìš©ì ê³„ì •ê³¼ ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í•¨ê»˜ ë§Œë“­ë‹ˆë‹¤.

í„°ë¯¸ë„ì—ì„œ ê¸°ë³¸ DB(`postgres`)ì— ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

```bash
psql -U user postgres
```

---

### 2.1. ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„±

```sql
CREATE USER new_project_user WITH PASSWORD 'ìƒˆë¡œìš´ë¹„ë°€ë²ˆí˜¸';
```

- `CREATE USER`: ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì(Role)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
- `WITH PASSWORD`: í•´ë‹¹ ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

---

### 2.2. ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

```sql
CREATE DATABASE my_project_db OWNER new_project_user;
```

- `CREATE DATABASE`: ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
- `OWNER`: í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì†Œìœ ìë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```sql
\l
```

(ìƒì„±ëœ `my_project_db`ê°€ ëª©ë¡ì— í‘œì‹œë©ë‹ˆë‹¤.)

---

### 2.3. ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬ (ì„ íƒ)

ë§Œì•½ ê¸°ì¡´ì— ìƒì„±í•œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆê³ , ìƒˆ ì‚¬ìš©ìì—ê²Œ ì ‘ê·¼ ê¶Œí•œë§Œ ì£¼ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```sql
GRANT ALL PRIVILEGES ON DATABASE my_project_db TO new_project_user;
```

(ê¶Œí•œì´ ì •ìƒ ë¶€ì—¬ë˜ë©´ `GRANT` ë©”ì‹œì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.)

`psql`ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.

```sql
\q
```

---

## 3. pgAdmin ì„œë²„ ì—°ê²° ì„¤ì • ìˆ˜ì •

pgAdminì´ ì˜¬ë°”ë¥¸ ì‚¬ìš©ì ì´ë¦„ê³¼ ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì—°ê²° ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

1. **pgAdmin ì ‘ì† ì •ë³´ ìˆ˜ì •**  
   - pgAdmin ì™¼ìª½ íƒìƒ‰ê¸°ì—ì„œ **Servers â†’ [ì„œë²„ ì´ë¦„]**ì„ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•˜ê³  **Properties**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

2. **Connection íƒ­ ìˆ˜ì •**
   - `Username` í•„ë“œë¥¼ `postgres`ì—ì„œ ì‹¤ì œ ì‚¬ìš©ì ì´ë¦„(`user` ë˜ëŠ” `new_project_user`)ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.
   - `Password` í•„ë“œì— í•´ë‹¹ ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

3. **Save**ë¥¼ í´ë¦­í•˜ì—¬ ì €ì¥í•˜ê³  ì„œë²„ì— ì¬ì ‘ì†í•©ë‹ˆë‹¤.

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„± (ë„ì„œ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•)

### 4.1. í”„ë¡œì íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± (pgAdmin)

> ğŸ’¡ ì´ë¯¸ í„°ë¯¸ë„ì—ì„œ `CREATE DATABASE my_project_db`ë¥¼ ìˆ˜í–‰í–ˆë‹¤ë©´,  
> ì´ ë‹¨ê³„ëŠ” ê±´ë„ˆë›°ì–´ë„ ë©ë‹ˆë‹¤.

1. ì™¼ìª½ íƒìƒ‰ê¸°ì—ì„œ **Servers â†’ Databases** í´ë”ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­ í›„  
   **Create â†’ Database...** ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
2. `Database` í•„ë“œì— `my_project_db` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
3. **Owner**ê°€ `user` ë˜ëŠ” ìƒˆë¡œ ë§Œë“  ì‚¬ìš©ìì„ì„ í™•ì¸í•˜ê³  **Save**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

---

### 4.2. í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° ì…ë ¥ (í„°ë¯¸ë„ psql)

`my_project_db` ì— ì ‘ì†í•©ë‹ˆë‹¤.

```bash
psql -U user my_project_db
```

(ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ `my_project_db=#` í”„ë¡¬í”„íŠ¸ í™•ì¸)

#### authors (ì €ì) í…Œì´ë¸” ìƒì„±

```sql
CREATE TABLE authors (
    author_id SERIAL PRIMARY KEY,    -- ê¸°ë³¸ í‚¤ (ìë™ ì¦ê°€, ìœ ì¼ê°’)
    name VARCHAR(100) NOT NULL,      -- ì €ì ì´ë¦„ (í•„ìˆ˜ ì…ë ¥)
    nationality VARCHAR(50)
);
```

#### books (ë„ì„œ) í…Œì´ë¸” ìƒì„± (ì™¸ë˜ í‚¤ í¬í•¨)

```sql
CREATE TABLE books (
    book_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    published_year INTEGER,
    author_id INTEGER REFERENCES authors(author_id)  -- ì™¸ë˜ í‚¤: authors í…Œì´ë¸”ê³¼ ì—°ê²°
);
```

#### ë°ì´í„° ì…ë ¥ (ìˆœì„œ ì¤‘ìš”: ì €ì â†’ ë„ì„œ)

```sql
-- ì €ì ì…ë ¥
INSERT INTO authors (name, nationality) VALUES
    ('ê¹€ì˜í•˜', 'ëŒ€í•œë¯¼êµ­'),
    ('ë¬´ë¼ì¹´ë¯¸ í•˜ë£¨í‚¤', 'ì¼ë³¸'),
    ('J.K. ë¡¤ë§', 'ì˜êµ­');

-- ë„ì„œ ì…ë ¥ (author_idëŠ” 1, 2, 3ìœ¼ë¡œ ìë™ ë¶€ì—¬ë¨)
INSERT INTO books (title, published_year, author_id) VALUES
    ('ì‚´ì¸ìì˜ ê¸°ì–µë²•', 2013, 1),
    ('ì—¬í–‰ì˜ ì´ìœ ', 2019, 1),
    ('ë…¸ë¥´ì›¨ì´ì˜ ìˆ²', 1987, 2),
    ('í•´ë¦¬ í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ', 1997, 3);
```

---

## 5. SQL ë¬¸ë²• í•™ìŠµ ë° pgAdmin ì‹œê°í™”

### 5.1. ë°ì´í„° JOIN ì‹¤ìŠµ (í„°ë¯¸ë„)

ë‘ í…Œì´ë¸”ì„ ì—°ê²°í•˜ì—¬ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” `INNER JOIN`ì„ ì‹¤ìŠµí•©ë‹ˆë‹¤.

```sql
SELECT
    b.title AS ì±…_ì œëª©,
    a.name AS ì €ì_ì´ë¦„,
    b.published_year AS ì¶œíŒ_ì—°ë„
FROM
    books b
INNER JOIN
    authors a ON b.author_id = a.author_id;
```

---

### 5.2. pgAdminì—ì„œ í…Œì´ë¸” ìƒˆë¡œê³ ì¹¨ (Refresh)

í„°ë¯¸ë„ì—ì„œ SQL ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„ pgAdminì—ì„œ ìµœì‹  ì •ë³´ë¥¼ ë°˜ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

1. pgAdmin ì™¼ìª½ íƒìƒ‰ê¸°ì—ì„œ **my_project_db â†’ Schemas â†’ public â†’ Tables** í´ë”ë¥¼ ì°¾ìŠµë‹ˆë‹¤.  
2. `Tables` í´ë”ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•©ë‹ˆë‹¤.  
3. ë©”ë‰´ì—ì„œ **Refresh** ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

---

### 5.3. ë°ì´í„° ì‹œê°í™” í™•ì¸ (pgAdmin)

1. ìƒˆë¡œê³ ì¹¨ëœ `authors` ë˜ëŠ” `books` í…Œì´ë¸”ì„ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­ í›„  
   **View/Edit Data â†’ All Rows** ë¥¼ ì„ íƒí•˜ì—¬ ë°ì´í„°ë¥¼ í‘œ í˜•íƒœë¡œ í™•ì¸í•©ë‹ˆë‹¤.

2. `my_project_db`ì—ì„œ **Query Tool**ì„ ì—´ì–´ `JOIN` ì¿¼ë¦¬ë¥¼ ë¶™ì—¬ë„£ê³  ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤.

---

ğŸ“˜ **ì¶”ê°€ íŒ**
- `\du` : ëª¨ë“  ì‚¬ìš©ì(Role) ëª©ë¡ í™•ì¸  
- `\l` : ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ í™•ì¸  
- `\c ë°ì´í„°ë² ì´ìŠ¤ëª…` : ë°ì´í„°ë² ì´ìŠ¤ ì „í™˜  
- `\dt` : í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸” ëª©ë¡ í™•ì¸  

---
âœ… **ì •ë¦¬ ë¬¸ì¥ ì¶”ê°€**  
> `psql` ëª…ë ¹ì–´ì—ì„œ ë§¨ ë’¤ì— ì˜¤ëŠ” ì¸ìëŠ” â€œì ‘ì†í•  ë°ì´í„°ë² ì´ìŠ¤â€ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  
> ì˜ˆ: `psql -U user my_project_db` â†’ `user`ë¡œ ë¡œê·¸ì¸í•˜ì—¬ `my_project_db`ì— ì ‘ì†í•©ë‹ˆë‹¤.
